<!DOCTYPE HTML>

<html>

<head>

  <title>Mixerno | Miencraft server stats</title>
  <link rel="shortcut icon" href="https://yt3.ggpht.com/a-/AOh14GhVWagi88Rfs6XXerg3-3PR4RPHYcolFIrYXZ4_=s288-c-k-c0xffffffff-no-rj-mo">
  <link rel="stylesheet" href="odometer-theme-default.css" />
  <link rel="stylesheet" href="odometer-theme-minimal.css" />
  <link rel="stylesheet" href="style.css" />
  <meta http-equiv="refresh" content="7200" />
  <script src="odometer.js"></script>
  <script src="https://mcapi.us/scripts/minecraft.js"></script>
  <script type="text/javascript" src="jquery-3.1.1.min.js"></script>
  <script src="https://code.highcharts.com/highcharts.js"></script>
  <script src="https://code.highcharts.com/modules/exporting.js"></script>
  <script src="https://code.highcharts.com/modules/export-data.js"></script>
  <script src="https://code.highcharts.com/modules/accessibility.js"></script>
  <center>
    <input type="text" id="chnlName"></input>
    <button id="searchlolnoob3">Search for a server</button>
    <br>
    <p id="name">0</p>
    <div id="viewcountodo" class="odometer" style="font-size:25px;color:rgb(255, 255, 255)">0</div>
    <p>players</p>
    <br>
    <div id="diamonds" class="odometer" style="font-size:25px;color:rgb(255, 255, 255)">0</div>
    <p>max players</p>
    <br>
    <p id="coins" style="font-size:25px;color:rgb(255, 255, 255)"></p>
    <p>serverStatus</p>
    <br>
    <p id="demons" style="font-size:25px;color:rgb(255, 255, 255)"></p>
    <p>protocol</p>
    <br>
    <p id="userCoins" class="odometer" style="font-size:25px;color:rgb(255, 255, 255)"></p>
    <p>ping</p>
    <br>
    <p id="image">0</p>
  </center>
  <center>
    <p id="p1h">0</p>
    <p id="wat">Player change last 1 min</p>
    <p id="p1h2">0</p>
    <p id="wat2">Player change last 1 hour</p>
    <p id="p1h3">0</p>
    <p id="wat3">Player change last 1 day</p>
  </center>

  <p>0.2.0</p>





  <style>

    .odometer {
      font-size: 100px;
    }

    body {
      background-color: rgb(0, 0, 0);
      color: rgb(255, 255, 255);
      font-family: Arial
    }

    div {
      font-size: 36
    }
  </style>
</head>





<script>

</script>



<script type="text/javascript">
  setTimeout(function() {
    location.reload();
  }, 7200000);
  var textArray = [ //All the cors anywhere urls.
                'https://corseverywheremiks.herokuapp.com/',
                'https://mixernocors.herokuapp.com/',
                'https://mixernob.herokuapp.com/',
                'https://nobnabob.herokuapp.com/',
                ];
  var randomNumber = Math.floor(Math.random()*textArray.length);
  var stufflol = "";
  stufflol = textArray[randomNumber];
  var corsurl = stufflol //required works only in mixerno.github.io/ | Sorry.
  var key = "";
  jQuery.ajaxPrefilter(function(options) {
    if (options.crossDomain && jQuery.support.cors) {
      options.url = 'https://corseverywheremiks.herokuapp.com/' + options.url;
      setInterval(function() {
        var randomNumber = Math.floor(Math.random()*textArray.length);

        key = textArray[randomNumber];
      }, 1000);
      options.url = key + options.url;
    }
  });
  var playerscount = 0;
  var secsinhour = "60000";
  var secsinhour2 = "3600000";
  var secsinhour3 = "86400000";
  var play1h = "0";
  var play1day = "0";
  var play1min = "0";
  var videostufflol = window.location.href;
  var params = videostufflol.split('?');
  var chanName = params[1]
  viiName = "";


  usernamelol(params[1]);




  function usernamelol(name) {

    chanName = name;
    $.ajax({
      url: 'https://mcapi.xdefcon.com/server/' + chanName + '/full/json',
      // Handle as Text
      dataType: "text",
      success: function(data) {
        // Parse JSON file
        var json = $.parseJSON(data);
        //Store data into a variable
        // Display Players
        playerscount = json.players;
        play1min = json.players;
        play1h = json.players;
        play1day = json.players;
        viewcountodo.innerHTML = json.players
        name.innerHTML = json.serverip
        diamonds.innerHTML = json.maxplayers
        coins.innerHTML = json.serverStatus
        userCoins.innerHTML = json.ping
        demons.innerHTML = json.protocol
        image.innerHTML = '<img src=\"' + json.icon + '\">'

      }
    });

    function loadVideo(naemhe) {
      viiName = naemhe;
      setTimeout(
        function() {
          loadVideo3($('#chnlName').val());
        }, 5000);


    }



    setInterval(function() {

      $.ajax({
        url: 'https://mcapi.xdefcon.com/server/' + chanName + '/full/json',
        // Handle as Text
        dataType: "text",
        success: function(data) {
          // Parse JSON file
          var json = $.parseJSON(data);
          //Store data into a variable
          // Display Players
          playerscount = json.players;
          viewcountodo.innerHTML = json.players
          name.innerHTML = json.serverip
          diamonds.innerHTML = json.maxplayers
          coins.innerHTML = json.serverStatus
          userCoins.innerHTML = json.ping
          demons.innerHTML = json.protocol
          image.innerHTML = '<img src=\"' + json.icon + '\">'


        }
      });



    }, 2000);

    setInterval(function() {

      secsinhour = secsinhour + 1000
      if (secsinhour > 60000) {
        secsinhour = 0
        play1min = playerscount

        $('#p1h').text(playerscount - play1min)
      }



      $('#p1h').text(playerscount - play1min)





      console.log(secsinhour + ' /60000')

      console.log(playerscount - play1min + ' Players 1min')
      console.log(playerscount + ' playerscount')
      console.log(play1min + ' play1min')




    }, 1000);
    setInterval(function() {

      secsinhour3 = secsinhour3 + 1000
      if (secsinhour3 > 86400000) {
        secsinhour3 = 0
        play1day = playerscount

        $('#p1h3').text(playerscount - play1day)
      }



      $('#p1h3').text(playerscount - play1day)





      console.log(secsinhour3 + ' /86400000')

      console.log(playerscount - play1day + ' Players 1day')
      console.log(playerscount + ' playerscount')
      console.log(play1day + ' play1day')




    }, 1000);
    setInterval(function() {

      secsinhour2 = secsinhour2 + 1000
      if (secsinhour2 > 3600000) {
        secsinhour2 = 0
        play1h = playerscount

        $('#p1h2').text(playerscount - play1h)
      }



      $('#p1h2').text(playerscount - play1h)





      console.log(secsinhour2 + ' /3600000')

      console.log(playerscount - play1h + ' Players 1h')
      console.log(playerscount + ' playerscount')
      console.log(play1h + ' play1h')




    }, 1000);

  }





  $('#searchlolnoob3').click(function() {
    loadVideo($('#chnlName').val());
    setTimeout(
      function() {
        //do nothing
      }, 1000);
    location.href = 'http://mixerno.github.io/minecraftsevrer.html?' + viiName;

    console.log("BUTTON4")
  });

</script>





<body>

</body>

</html>
