<!DOCTYPE HTML>

<html>

<head>

  <title>Mixernos site</title>
  <link rel="stylesheet" href="odometer-theme-default.css" />
  <link rel="stylesheet" href="odometer-theme-minimal.css" />

  <script src="odometer.js"></script>
  <script src="https://mcapi.us/scripts/minecraft.js"></script>
  <script type="text/javascript" src="jquery-3.1.1.min.js"></script>
  <script src="https://code.highcharts.com/highcharts.js"></script>
  <script src="https://code.highcharts.com/modules/exporting.js"></script>
  <script src="https://code.highcharts.com/modules/export-data.js"></script>
  <script src="https://code.highcharts.com/modules/accessibility.js"></script>
  <center>
    Tiktok Realtime compare v.0.1
    <br>
    <br>
    <div class="row">


    </div>
    <div class="container">
      <div class="row">
        <div class="col s12 col-md-6">
          <div class="card m-b-0 m-t-20">
            <h4 id="tiktoker1" class="text-truncate text-center" style="font-size:15px;color:rgb(255, 255, 255)">Charli d'amelio</h4>
            <p id="gahviplayerslol" class="odometer" style="font-size:25px;color:rgb(255, 255, 255)">39000000</p>
          </div>
        </div>
        <div class="col s12 col-md-6">
          <div class="card m-b-0 m-t-20">
            <h4 id="tiktoker2" class="text-truncate text-center" style="font-size:15px;color:rgb(255, 255, 255)">Loren Gray</h4>
            <p id="motiplayers" class="odometer" style="font-size:25px;color:rgb(255, 255, 255)">40000000</p>
          </div>
        </div>
      </div>
    </div>
    <br>
    <div id="pdiff" class="odometer" style="font-size:25px;color:rgb(255, 255, 255)">0</div>
    <p>Fan diff</p>
    Gap change in 1 minute: <p id="gap1m" class="odometer" style="font-size:25px;color:rgb(255, 255, 255)">0</p>
    <br>
    Gap change in 1 hour: <p id="gap1h" class="odometer" style="font-size:25px;color:rgb(255, 255, 255)">0</p>

  </center>
  <figure class="highcharts-figure">
    <div id="container"></div>
    <p class="highcharts-description">

    </p>
  </figure>

  <br>
  <center>
    Images:
    <p id="img1">1</p>
    <p id="img2">2</p>
    Other Stats:
    <br>
    <p id="likes1" class="odometer" style="font-size:15px;color:rgb(255, 255, 255)">1</p>
    hearts
    <br>
    <p id="likes2" class="odometer" style="font-size:15px;color:rgb(255, 255, 255)">2</p>
    hearts
  </center>
  <style>
    .highcharts-figure,
    .highcharts-data-table table {
      min-width: 100px;
      max-width: 700px;
      margin: 1em auto;
      color: rgb(0, 0, 0);
    }

    .highcharts-data-table table {
      font-family: Verdana, sans-serif;
      border-collapse: collapse;
      border: 1px solid rgb(0, 0, 0);
      margin: 10px auto;
      text-align: center;
      width: 50%;
      max-width: 250px;
      background: #000000;
    }

    .highcharts-data-table caption {
      padding: 1em 0;
      font-size: 1.2em;
      color: rgb(0, 0, 0);
      background: #000000;
    }

    .highcharts-data-table th {
      font-weight: 600;
      padding: 0.5em;
      color: rgb(0, 0, 0);
      background: #000000;
    }

    .highcharts-data-table td,
    .highcharts-data-table th,
    .highcharts-data-table caption {
      padding: 0.5em;
      color: rgb(0, 0, 0);
      background: #000000;
    }

    .highcharts-data-table thead tr,
    .highcharts-data-table tr:nth-child(even) {
      background: #000000;
    }

    .highcharts-data-table tr:hover {
      background: #000000;
    }

    .odometer {
      font-size: 100px;
    }

    .odometerOptions= {
      duration: 500 // duration in milliseconds
    }

    body {
      background-color: rgb(0, 0, 0);
      color: rgb(255, 255, 255);
      font-family: Arial
    }

    div {
      font-size: 36
    }
  </style>
</head>





<script>

</script>



<script type="text/javascript">
  jQuery.ajaxPrefilter(function(options) {
    if (options.crossDomain && jQuery.support.cors) {
      //options.url = 'https://corseverywheremiks.herokuapp.com/' + options.url;
      options.url = 'https://cors.upbount.com/' + options.url;
    }
  });
  $(document).ready(function() {


    var videostufflol = window.location.href;
    var params = videostufflol.split('?');
    var chanName = params[1]
    viiName = "";
    var motiplay = "0";
    var gahviplay = "0";
    var gap = "0";
    var readygap = "0";
    var secsinhour = "0";
    var gap1min = "0";
    var gap1ho = "0";
    var secsinhour2 = "0";
    var maxPoints = 450 //30 min :)


    usernamelol(params[1]);




    function usernamelol(name) {


      chanName = name;

      $.ajax({

        url: 'https://www.tiktok.com/node/share/user/@charlidamelio',
        // Handle as Text
        dataType: "text",
        success: function(data) {
          // Parse JSON file
          var json = $.parseJSON(data);
          //Store data into a variable
          // Display Players
          gahviplay = json.body.userData.fans
          //$('#gahviplayerslol').html(json.body.userData.fans)
          readygap = readygap + "1"
          gahviplayerslol.innerHTML = json.body.userData.fans;
          $('#img1').html('<img src=\"' + json.body.userData.covers + '\">')
          likes2.innerHTML = json.body.userData.heart;



        }
      });
      $.ajax({

        url: 'https://www.tiktok.com/node/share/user/@lorengray',
        // Handle as Text
        dataType: "text",
        success: function(data) {
          // Parse JSON file
          var json = $.parseJSON(data);
          //Store data into a variable
          // Display Players
          motiplay = json.body.userData.fans
          //$('#motiplayers').html(json.body.userData.fans)
          readygap = readygap + "1"
          motiplayers.innerHTML = json.body.userData.fans;
          likes1.innerHTML = json.body.userData.heart;
          $('#img2').html('<img src=\"' + json.body.userData.covers + '\">')


        }
      });

      function loadVideo(naemhe) {
        viiName = naemhe;
        setTimeout(
          function() {
            loadVideo3($('#chnlName').val());
          }, 5000);


      }
      if (readygap > 010) {
        gap1min = gap
      }



      setInterval(function() {
        console.log(readygap)

        $.ajax({
          url: 'https://www.tiktok.com/node/share/user/@charlidamelio',
          // Handle as Text
          dataType: "text",
          success: function(data) {
            // Parse JSON file
            var json = $.parseJSON(data);
            //Store data into a variable
            // Display Players

            gahviplay = json.body.userData.fans
            //$('#gahviplayerslol').html(json.body.userData.fans)
            gahviplayerslol.innerHTML = json.body.userData.fans;
            likes2.innerHTML = json.body.userData.heart;








          }
        });
        $.ajax({
          url: 'https://www.tiktok.com/node/share/user/@lorengray',
          // Handle as Text
          dataType: "text",
          success: function(data) {
            // Parse JSON file
            var json = $.parseJSON(data);
            //Store data into a variable
            // Display Players
            motiplay = json.body.userData.fans
            //$('#motiplayers').html(json.body.userData.fans)
            motiplayers.innerHTML = json.body.userData.fans;

            likes1.innerHTML = json.body.userData.heart;



          }

        });
        if (readygap > "010") {
          console.log(gap)
          gap = gahviplay - motiplay;
          pdiff.innerHTML = gahviplay - motiplay;




        }







      }, 2000);
      setInterval(function() {
        if (stuff.series[0].points.length == maxPoints) stuff.series[0].data[0].remove();
        stuff.series[0].addPoint([
          (new Date()).getTime(),
          gahviplay - motiplay
        ]);
      }, 4000);
      var stuff = new Highcharts.chart('container', {
        chart: {
          backgroundColor: 'transparent',
          renderTo: $('#container'),
          type: 'line'
        },
        title: {
          text: ''
        },
        xAxis: {
          type: 'datetime',
          tickPixelInterval: 500
        },
        yAxis: {
          title: {
            text: ''
          }
        },

        credits: {
          enabled: false
        },

        series: [{
          name: 'Player Diffrence',
          marker: {
            enabled: false
          },
          legend: {
            enabled: false
          },
          labels: {
            enabled: false
          },
          exporting: {
            enabled: false
          },

        }]
      })
      setInterval(function() {


        secsinhour = secsinhour + 1000
        if (secsinhour > 60000) {
          secsinhour = 0
          gap1min = gap

          //$('#gap1m').text(gap - gap1min)
          gap1m.innerHTML = gap - gap1min;
        }
        if (gap > "-1") {
          //$('#gap1m').text(gap - gap1min)
          gap1m.innerHTML = gap - gap1min;
        }
        if (gap < "-1") {
          //$('#gap1m').text(gap - gap1min)
          gap1m.innerHTML = gap - gap1min;
        }









        console.log(secsinhour + ' /60000')

        console.log(gap - gap1min + ' gap1min')
        console.log(gap + ' gap')
        console.log(gap1min + ' gap1min')
        console.log(gahviplay + ' normal')
        console.log(motiplay + ' china')




      }, 1000);
      setInterval(function() {


        secsinhour2 = secsinhour2 + 1000
        if (secsinhour2 > 3600000) {
          secsinhour2 = 0
          gap1ho = gap

          //$('#gap1m').text(gap - gap1min)
          gap1h.innerHTML = gap - gap1ho;
        }
        if (gap > "-1") {
          //$('#gap1m').text(gap - gap1min)
          gap1h.innerHTML = gap - gap1ho;
        }
        if (gap < "-1") {
          //$('#gap1m').text(gap - gap1min)
          gap1h.innerHTML = gap - gap1ho;
        }









        console.log(secsinhour2 + ' /3600000')

        console.log(gap - gap1ho + ' gap1ho')
        console.log(gap + ' gap')
        console.log(gap1ho + ' gap1ho')





      }, 1000);



      $('#searchlolnoob3').click(function() {
        loadVideo($('#chnlName').val());
        setTimeout(
          function() {
            //do nothing
          }, 1000);
        location.href = 'http://mixerno.github.io/minecraftsevrer.html?' + viiName;

        console.log("BUTTON4")
      });


    }

    function loadVideo(naemhe) {
      viiName = naemhe;
      setTimeout(
        function() {
          loadVideo3($('#chnlName').val());
        }, 5000);


    }
  });
</script>





<body>

</body>

</html>