<html>
    <head>
        <title>Mixerno.space - Youtube compare count</title>
        <link rel="shortcut icon" href="https://yt3.ggpht.com/a-/AOh14GhVWagi88Rfs6XXerg3-3PR4RPHYcolFIrYXZ4_=s288-c-k-c0xffffffff-no-rj-mo">
        <link rel="stylesheet" href="../../o2.css" />
        <script src="../../odometer.js"></script>
        <script type="text/javascript" src="../../jquery-3.1.1.min.js"></script>
        <script src="https://code.highcharts.com/highcharts.js"></script>
        <link rel="stylesheet" href="../toolazytoeditallofthemlol.css">


        <div style="color: white;" class="topbar"><div>Mixerno.space</div><center><a href="../../index.html">Home</a></center></div>
        <br>
        <center>
            <div class="rowstuff">
            <div>
        <div class="maincount">
            <img id="image" style="border-radius: 50%;" src="https://via.placeholder.com/130/585858/FFFFFF/?text=Mixerno.space" height="130" width="130">
            <div style="font-size: 50px;" id="ytname"class="nameee">Mixerno.space</div>
            <div class="odometer" style="font-size: 60px;" id="ytsubs">0</div>
            <div><strong>Subscribers</strong></div>
        </div>
        <br>
        <div class="sidecounts">
            <div>
                <div style="font-size: 25px;" class="odometer" id="yttotalviews">0</div>
                <div style="font-size: 25px;">Total views</div>
            </div>
            <div>
                <div style="font-size: 25px;" class="odometer" id="ytvideos">0</div>
                <div style="font-size: 25px;">Videos</div>
            </div>
        </div>
        <input placeholder="Youtube username" type="text" style="width: 400px; font-size: 20px;" value="" id="usrsearch" class="custominput"></input>
        <button class="buton" style="font-size: 20px;" id="serch">Search</button>
    </div>
        <div>
        <div class="maincount">
            <img id="image2" style="border-radius: 50%;" src="https://via.placeholder.com/130/585858/FFFFFF/?text=Mixerno.space" height="130" width="130">
            <div style="font-size: 50px;" id="ytname2"class="nameee">Mixerno.space</div>
            <div class="odometer" style="font-size: 60px;" id="ytsubs2">0</div>
            <div><strong>Subscribers</strong></div>
        </div>
        <br>
        <div class="sidecounts">
            <div>
                <div style="font-size: 25px;" class="odometer" id="yttotalviews2">0</div>
                <div style="font-size: 25px;">Total views</div>
            </div>
            <div>
                <div style="font-size: 25px;" class="odometer" id="ytvideos2">0</div>
                <div style="font-size: 25px;">Videos</div>
            </div>
        </div>
        <input placeholder="Youtube username" type="text" style="width: 400px; font-size: 20px;" value="" id="usrsearch2" class="custominput"></input>
        <button class="buton" style="font-size: 20px;" id="serch2">Search</button>
    </div>
    </div> 
        <br>
        <div class="graphstuff">
            <div class="odometer" id="diffrenceodo" style="font-size: 50px;">0</div>
            <div><strong>Subscriber diffrence</strong></div>
            <div id="graph"></div>
        </div>
        
        
    </center>
    </head>
  
    <script type="text/javascript">
jQuery.ajaxPrefilter(function(options) {
if (options.crossDomain && jQuery.support.cors) {
options.url = '' + options.url;

}
});
var key = "https://nugisextremelynice.herokuapp.com/";
//var key = "";
$(document).ready(function() {
    
  var videostufflol = window.location.href;
  var params = videostufflol.split('?user=');
  var stuff = new Highcharts.chart('graph', {
    chart: {
      backgroundColor: 'transparent',
      renderTo: graph,
      type: 'spline'
    },
    title: {
      text: ``
    },
    xAxis: {
      type: 'datetime',
      tickPixelInterval: 500
    },
    yAxis: {
      title: {
          text: ''
      },
        gridLineColor: "#000000",
        labels: {
            style: {
                color: "#000000"
            }
        },
        lineColor: "#000000",
        minorGridLineColor: "#000000",
        tickColor: "#000000"
  },

    credits: {
      enabled: true,
      text: "Mixerno.space"
    },

    series: [{
      name: 'Follower diffrence',
      marker: {
        enabled: false
      },
      color: '#000000',
    lineColor: '#000000'

    }]
  })
  var count1 = 0;
  var count2 = 0;
  var channelid = params[1];
  var channelid2 = params[2]
  if(params[1] == undefined) {
    channelid = "UCPSX-g40Ti1c5C7sbGNtGzA"
  }
  if(params[2] == undefined) {
    channelid2 = "UCq-Fj5jknLsUf-MWSy4_brA"
  }
  channelstatistics()
  
  
  //
  function channelstatistics() {

      $.ajax({
        url: `https://mixernobest.herokuapp.com/youtube/channelUC/${channelid}`,
        // Handle as Text
        dataType: "text",
        success: function(data) {
          var json = $.parseJSON(data);
          count1 = json.subscribers
          ytsubs.innerHTML = json.subscribers
          yttotalviews.innerHTML = json.totalviews
          ytvideos.innerHTML = json.videos
          ytname.innerHTML = json.name
          $("#image").attr('src', `${json.avatarurl}`);
          channelstatistics2()
          //plsworkgraph = json.subscribers.replace(/""/, "");
          /**/
        }
      })
  };
  function channelstatistics2() {

$.ajax({
  url: `https://mixernobest.herokuapp.com/youtube/channelUC/${channelid2}`,
  // Handle as Text
  dataType: "text",
  success: function(data) {
    var json = $.parseJSON(data);
    count2 = json.subscribers
    ytsubs2.innerHTML = json.subscribers
    yttotalviews2.innerHTML = json.totalviews
    ytvideos2.innerHTML = json.videos
    ytname2.innerHTML = json.name
    $("#image2").attr('src', `${json.avatarurl}`);
    diffrenceodo.innerHTML = count1 - count2
    stuff.series[0].addPoint([
            (new Date()).getTime(),
            count1 - count2
          ]);
          if (stuff.series[0].data.length >= 700) {
          stuff.series[0].data[0].remove()
        }
    //plsworkgraph = json.subscribers.replace(/""/, "");
    /**/
  }
})
};
  setInterval(channelstatistics, 60000);
  function searchchannel() {

    
$.ajax({
    url: `https://mixernobest.herokuapp.com/youtube/searchchannel/${$('#usrsearch').val()}`,
    // Handle as Text
    dataType: "text",
    success: function(data) {
      var json = $.parseJSON(data);
      channelid = json.channelid
      location.href = `${params[0]}?user=${channelid}?user=${params[2]}`;
    }
  })
}
function searchchannel2() {

    
$.ajax({
    url: `https://mixernobest.herokuapp.com/youtube/searchchannel/${$('#usrsearch2').val()}`,
    // Handle as Text
    dataType: "text",
    success: function(data) {
      var json = $.parseJSON(data);
      channelid2 = json.channelid
      location.href = `${params[0]}?user=${params[1]}?user=${channelid2}`;
    }
  })
}
  $('#usrsearch').on('keyup', function(e) {
    if (e.keyCode === 13) {
        $('#serch').click();
    }
});
$('#usrsearch2').on('keyup', function(e) {
    if (e.keyCode === 13) {
        $('#serch2').click();
    }
});
    
//location.href = params[0] + $('#country').val();;
$('#serch').click(function() {
searchchannel()
});
$('#serch2').click(function() {
searchchannel2()
});
});
    </script>
</html>