<!DOCTYPE HTML>

<html>

<head>
  <title>Mixernos site</title>
  <link rel="stylesheet" href="odometer-theme-default.css" />
  <link rel="stylesheet" href="odometer-theme-minimal.css" />
  <link rel="stylesheet" href="style.css" />
  <script src="odometer.js"></script>
  <script src="https://mcapi.us/scripts/minecraft.js"></script>
  <script type="text/javascript" src="jquery-3.1.1.min.js"></script>
  <script src="https://code.highcharts.com/highcharts.js"></script>
  <script src="https://code.highcharts.com/modules/exporting.js"></script>
  <script src="https://code.highcharts.com/modules/export-data.js"></script>
  <script src="https://code.highcharts.com/modules/accessibility.js"></script>
  <center>
    <input type="text" id="chnlName"></input>
    <button id="searchlolnoob3">Search for a server</button>
    <p id="image">0</p>
    <p id="name">0</p>
    <div id="viewcountodo" class="odometer odometer-default" style="font-size:25px;color:rgb(255, 255, 255)">0</div>
    <p id="playersid">players</p>
    <div id="diamonds" style="font-size:25px;color:rgb(255, 255, 255)">0</div>
    <p id="mplayersid">max players</p>
    <p id="userCoins" style="font-size:25px;color:rgb(255, 255, 255)"></p>
    <p id="pingid">ping</p>
  </center>
  <figure class="highcharts-figure">
    <div id="container"></div>
    <p class="highcharts-description">
    </p>
  </figure>
  <center>
    <p id="p1h">0</p>
    <p id="wat">Player change last 1 min</p>

    <p id="p1h2">0</p>
    <p id="wat2">Player change last 1 hour</p>
    <p id="p1h3">0</p>
    <p id="wat3">Player change last 1 day</p>
  </center>
  <p>0.1.0</p>





  <style>
    .highcharts-figure,
    .highcharts-data-table table {
      min-width: 100px;
      max-width: 700px;
      margin: 1em auto;
    }

    .highcharts-data-table table {
      font-family: Verdana, sans-serif;
      border-collapse: collapse;
      border: 1px solid rgb(0, 0, 0);
      margin: 10px auto;
      text-align: center;
      width: 50%;
      max-width: 250px;
    }

    .highcharts-data-table caption {
      padding: 1em 0;
      font-size: 1.2em;
      color: rgb(255, 255, 255);
    }

    .highcharts-data-table th {
      font-weight: 600;
      padding: 0.5em;
    }

    .highcharts-data-table td,
    .highcharts-data-table th,
    .highcharts-data-table caption {
      padding: 0.5em;
    }

    .highcharts-data-table thead tr,
    .highcharts-data-table tr:nth-child(even) {
      background: #000000;
    }

    .highcharts-data-table tr:hover {
      background: #000000;
    }

    .odometerOptions= {
      duration: 500 // duration in milliseconds
    }

    .odometer {
      font-size: 100px;
    }

    body {
      background-color: rgb(0, 0, 0);
      color: rgb(255, 255, 255);
      font-family: Arial
    }

    div {
      font-size: 36
    }
  </style>
</head>





<script>

</script>



<script type="text/javascript">
  jQuery.ajaxPrefilter(function(options) {
    if (options.crossDomain && jQuery.support.cors) {
      options.url = 'https://corseverywheremiks.herokuapp.com/' + options.url;
    }
  });
  $(document).ready(function() {

    var playerscount = 0;
    var secsinhour = 60000;
    var secsinhour2 = 3600000;
    var secsinhour3 = 86400000;
    var play1h = 0;
    var play1day = 0;
    var play1min = 0;
    var videostufflol = window.location.href;
    var params = videostufflol.split('?');
    var chanName = params[1]
    viiName = "";


    usernamelol(params[1]);




    function usernamelol(name) {

      chanName = name;
      $.ajax({
        url: 'https://mcapi.xdefcon.com/server/mc.hypixel.net/full/json',
        // Handle as Text
        dataType: "text",
        success: function(data) {
          // Parse JSON file
          var json = $.parseJSON(data);
          //Store data into a variable
          // Display Players
          viewcountodo.innerHTML = json.players;
          playerscount = json.players;
          play1min = json.players;
          play1h = json.players;
          play1day = json.players;
          $('#name').html(json.serverip);
          $('#diamonds').html(json.maxplayers);
          $('#userCoins').html(json.ping);
          $('#image').html('<img src=\"' + json.icon + '\">');

        }
      });

      function loadVideo(naemhe) {
        viiName = naemhe;
        setTimeout(
          function() {
            loadVideo3($('#chnlName').val());
          }, 5000);


      }



      setInterval(function() {

        $.ajax({
          url: 'https://mcapi.xdefcon.com/server/mc.hypixel.net/full/json',
          // Handle as Text
          dataType: "text",
          success: function(data) {
            // Parse JSON file
            var json = $.parseJSON(data);
            //Store data into a variable
            // Display Players

            playerscount = json.players;
            viewcountodo.innerHTML = json.players;
            $('#name').html(json.serverip);
            $('#diamonds').html(json.maxplayers);
            $('#coins').html(json.serverStatus);
            $('#userCoins').html(json.ping);
            $('#demons').html(json.protocol);
            $('#image').html('<img src=\"' + json.icon + '\">');
            if (playerscount > "-1") {
              stuff.series[0].addPoint([
                (new Date()).getTime(),
                json.players
              ]);
            }



          }
        });



      }, 2000);
      var stuff = new Highcharts.chart('container', {
        chart: {
          backgroundColor: 'transparent',
          renderTo: $('#container'),
          type: 'line'
        },
        title: {
          text: ''
        },
        xAxis: {
          type: 'datetime',
          tickPixelInterval: 1
        },
        yAxis: {
          title: {
            text: ''
          }
        },

        credits: {
          enabled: false
        },

        series: [{
          name: 'chart',
          marker: {
            enabled: false
          }
        }]
      })
      setInterval(function() {

        secsinhour = secsinhour + 1000
        if (secsinhour > 60000) {
          secsinhour = 0
          play1min = playerscount
          $('#p1h').text(playerscount - play1min)
        }

        if (playerscount > "-1") {
          $('#p1h').text(playerscount - play1min)
        }








        console.log(secsinhour + ' /60000')

        console.log(playerscount - play1min + ' Players 1min')
        console.log(playerscount + ' playerscount')
        console.log(play1min + ' play1min')




      }, 1000);
      setInterval(function() {

        secsinhour3 = secsinhour3 + 1000
        if (secsinhour3 > 86400000) {
          secsinhour3 = 0
          play1day = playerscount

          $('#p1h3').text(playerscount - play1day)
        }
        if (playerscount > "-1") {
          $('#p1h3').text(playerscount - play1day)
        }









        console.log(secsinhour3 + ' /86400000')

        console.log(playerscount - play1day + ' Players 1day')
        console.log(playerscount + ' playerscount')
        console.log(play1day + ' play1day')




      }, 1000);
      setInterval(function() {

        secsinhour2 = secsinhour2 + 1000
        if (secsinhour2 > 3600000) {
          secsinhour2 = 0
          play1h = playerscount

          $('#p1h2').text(playerscount - play1h)
        }
        if (playerscount > "-1") {
          $('#p1h2').text(playerscount - play1h)
        }









        console.log(secsinhour2 + ' /3600000')

        console.log(playerscount - play1h + ' Players 1h')
        console.log(playerscount + ' playerscount')
        console.log(play1h + ' play1h')




      }, 1000);


    }





    $('#searchlolnoob3').click(function() {
      loadVideo($('#chnlName').val());
      setTimeout(
        function() {
          //do nothing
        }, 1000);
      location.href = 'http://mixerno.github.io/minecraftsevrer.html?' + viiName;

      console.log("BUTTON4")
    });

  });
</script>





<body>

</body>

</html>